!function(){"use strict";var a=function(a){this.url=m.prop(a.url),this.plugins=m.prop(a.plugins),this.slug=m.prop(a.slug||Object.keys(a.plugins)[0]),this.n=m.prop(a.n)},b={};b.vm=function(){var b={};return b.init=function(){b.running=m.prop(!1),b.config=new a(wpp.config),b.results=m.prop([]),b.average=m.prop(0)},b}(),b.recalculate=function(){b.vm.results()},b.start=function(){b.vm.running(!0),b.getResult()},b.getResult=function(){if(b.vm.results().length!==b.vm.config.n()){var a={method:"GET",url:wpp.ajaxurl,data:{action:"plugin_profiler",url:b.vm.config.url(),slug:b.vm.config.slug()}};m.request(a).then(function(a){b.vm.results().push(a),m.redraw(),b.getResult()})}},b.stop=function(){b.vm.running(!1)},b.controller=function(){b.vm.init()},b.view=function(){var a=b.vm;return b.vm.running()?m("div.results",[m("p","On average, the profiled plugin added xx% to each request."),m("table",[m("tr",[m("th.row-title","#"),a.results().map(function(a,b){return m("td",b+1)})]),m("tr",[m("th","No plugins"),a.results().map(function(a){return m("td",a.no_plugins)})]),m("tr",[m("th","Only profiled plugin"),a.results().map(function(a){return m("td",a.only_slug)})]),m("tr",[m("th","All but profiled"),a.results().map(function(a){return m("td",a.all_but_slug)})]),m("tr",[m("th","All plugins"),a.results().map(function(a){return m("td",a.all_plugins)})])])]):[m("table.form-table",[m("tr",[m("th","Select the plugin to profile."),m("td",[m("select",{onchange:m.withAttr("value",b.vm.config.slug)},Object.keys(b.vm.config.plugins()).map(function(a){return m("option",{value:a},b.vm.config.plugins()[a])}))])]),m("tr",[m("th","Enter the URL to profile"),m("td",[m("input",{type:"text","class":"regular-text",value:b.vm.config.url(),onchange:m.withAttr("value",b.vm.config.url)})])]),m("tr",[m("th","Number of requests"),m("td",[m("input",{type:"number",min:0,step:1,value:b.vm.config.n(),onchange:m.withAttr("value",b.vm.config.n)})])])]),m("p",[m("input",{type:"submit","class":"button button-primary",value:"Run Profile",onclick:b.start})])]},m.module(document.getElementById("profiler-mount"),b)}();